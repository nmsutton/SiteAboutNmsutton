<!--Nate Sutton
Copyright 2013

All descriptions for a given work category are retreived.
-->
<head>
	<%= stylesheet_link_tag    "middle_section_page", :media => "all" %>
	<%= javascript_include_tag "application", "form_processing" %>
</head>
<body>
	<br>
	<div class='TextInBarRoundedBorder YellowBar'>Selected Work in <%= @workCategoryKeyword %></div>
	<br>
	<br>
	<form action="/tag_navigator/tag_details" method="post" id='generalForm'>
		<input id="parameterName" name="parameterName" type="hidden" />
		<% @WorkCategory.all.each do |c| %>
		<div class="rounded-corners outer-shadows" id="TextBox">
			<div id="TextBoxHeader">
				<%= c.time_range %>
			</div>
			<div id="TextBoxBody">
				<% processedDescription = c.description %>
				<% processedDescription.sub!(Regexp.new('java', Regexp::IGNORECASE),
                  "<a href=\"javascript:processTagLink('Java')\">Java</a>") %>
				<% @UniqueTags.each do |tagListEntry| %>
				<% if (!(tagListEntry.tag_name =~ /[jJ][aA][vV][aA]/))%>
				<% processedDescription.sub!(Regexp.new(tagListEntry.tag_name, Regexp::IGNORECASE),
                  "<a href=\"javascript:processTagLink('"+tagListEntry.tag_name+"')\">"+tagListEntry.tag_name+"</a>") %> <% end %>
				<% end %>
				<%= processedDescription.html_safe %>
			</div>
			<br>
		</div>
		<% end %>
	</form>
	<br>
	<div class="RectangleButton"><h5><a href="javascript:history.back()">Previous page</a></h5></div>
</body>